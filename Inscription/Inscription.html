<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GiveTime - Inscription</title>
    <link rel="stylesheet" href="../css/Inscription.css">
    <link rel="shortcut icon" href="../images/logo-fav/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo">
                <img src="../images/logo-fav/Logo.png" alt="GiveTime Logo">
    </a>
            <nav class="nav-menu">
                <a href="../index.html" class="nav-link">Accueil</a>
                <a href="../index.html#how-it-works" class="nav-link">Comment ça marche</a>
                <a href="../index.html#about" class="nav-link">À propos</a>
                <a href="Inscription.html" class="nav-link active">S'inscrire</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <section class="section inscription-section">
        <div class="container">
            <h1 class="section-title">Inscription</h1>
            
            <div class="inscription-type-selector">
                <button id="btnBenevole" class="btn btn-primary">Bénévole</button>
                <button id="btnAssociation" class="btn btn-secondary">Association</button>
            </div>
            
            <div class="form-wrapper">
                <div id="formBenevole" class="form-container">
                    <h2 class="form-title">Inscription Bénévole</h2>
                    <form action="Inscription.php" method="POST" enctype="multipart/form-data">
                        <div class="form-group">
                            <label for="nomBenevole">Nom:</label>
                            <input type="text" id="nomBenevole" name="nomBenevole" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="prenomBenevole">Prénom:</label>
                            <input type="text" id="prenomBenevole" name="prenomBenevole" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="mailBenevole">Email:</label>
                            <input type="email" id="mailBenevole" name="mailBenevole" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="loginBenevole">Login:</label>
                            <input type="text" id="loginBenevole" name="loginBenevole" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="mdpBenevole">Mot de passe:</label>
                            <input type="password" id="mdpBenevole" name="mdpBenevole" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Tag (sélectionnez un tag):</label>
                            <p class="form-helper-text">Veuillez sélectionner le tag qui représente le mieux votre domaine d'intérêt.</p>
                            <div class="tags-container">
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagBenevole[]" value="Culture"> Culture
                                </label>
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagBenevole[]" value="Sport"> Sport
                                </label>
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagBenevole[]" value="Ecologie"> Ecologie
                                </label>
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagBenevole[]" value="Education"> Education
                                </label>
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagBenevole[]" value="Solidarite"> Solidarité
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="localisationBenevole">Localisation (ville):</label>
                            <input type="text" id="localisationBenevole" name="localisationBenevole" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="descriptionBenevole">Description:</label>
                            <textarea id="descriptionBenevole" name="descriptionBenevole" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="photoBenevole">Photo de profil:</label>
                            <input type="file" id="photoBenevole" name="photoBenevole" accept="image/*">
                        </div>
                        
                        <button type="submit" name="submitBenevole" class="btn btn-primary">S'inscrire</button>
                    </form>
                </div>
                
                <div id="formAssociation" class="form-container" style="display: none;">
                    <h2 class="form-title">Inscription Association</h2>
                    <form action="Inscription.php" method="POST" enctype="multipart/form-data">
                        <div class="form-group">
                            <label for="nomAssociation">Nom:</label>
                            <input type="text" id="nomAssociation" name="nomAssociation" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="mailAssociation">Email:</label>
                            <input type="email" id="mailAssociation" name="mailAssociation" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="loginAssociation">Login:</label>
                            <input type="text" id="loginAssociation" name="loginAssociation" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="mdpAssociation">Mot de passe:</label>
                            <input type="password" id="mdpAssociation" name="mdpAssociation" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Tag (sélectionnez un tag):</label>
                            <p class="form-helper-text">Veuillez sélectionner le tag qui représente le mieux le domaine d'activité de votre association.</p>
                            <div class="tags-container">
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagAssociation[]" value="Solidarite"> Solidarité
                                </label>
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagAssociation[]" value="Ecologie"> Ecologie
                                </label>
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagAssociation[]" value="Sport"> Sport
                                </label>
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagAssociation[]" value="Culture"> Culture
                                </label>
                                <label class="tag-checkbox">
                                    <input type="checkbox" name="tagAssociation[]" value="Education"> Education
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="localisationAssociation">Localisation (ville):</label>
                            <input type="text" id="localisationAssociation" name="localisationAssociation" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="descriptionAssociation">Description:</label>
                            <textarea id="descriptionAssociation" name="descriptionAssociation" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="photoAssociation">Photo de profil:</label>
                            <input type="file" id="photoAssociation" name="photoAssociation" accept="image/*">
                        </div>
                        
                        <button type="submit" name="submitAssociation" class="btn btn-association">S'inscrire</button>
                    </form>
                </div>
            
                <div class="preview-container">
                    <h2 class="form-title">Prévisualisation du Profil</h2>
                    <div class="profile-preview">
                        <img id="previewPhoto" src="../images/profils/default.jpg" alt="Photo de profil">
                        <div class="preview-info">
                            <p><strong>Nom:</strong> <span id="previewNom"></span></p>
                            <p><strong>Prénom:</strong> <span id="previewPrenom"></span></p>
                            <p><strong>Email:</strong> <span id="previewEmail"></span></p>
                            <p><strong>Login:</strong> <span id="previewLogin"></span></p>
                            <p><strong>Tag:</strong> <span id="previewTag"></span></p>
                            <p><strong>Localisation:</strong> <span id="previewLocalisation"></span></p>
                            <p><strong>Description:</strong> <span id="previewDescription"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sélection des éléments
            const btnBenevole = document.getElementById('btnBenevole');
            const btnAssociation = document.getElementById('btnAssociation');
            const formBenevole = document.getElementById('formBenevole');
            const formAssociation = document.getElementById('formAssociation');
            
            // Éléments de prévisualisation
            const previewPhoto = document.getElementById('previewPhoto');
            const previewNom = document.getElementById('previewNom');
            const previewPrenom = document.getElementById('previewPrenom');
            const previewEmail = document.getElementById('previewEmail');
            const previewLogin = document.getElementById('previewLogin');
            const previewTag = document.getElementById('previewTag');
            const previewLocalisation = document.getElementById('previewLocalisation');
            const previewDescription = document.getElementById('previewDescription');
        
            // Afficher le formulaire bénévole par défaut
            formBenevole.style.display = 'block';
            formAssociation.style.display = 'none';
        
            // Gestion des clics sur les boutons
            btnBenevole.addEventListener('click', function() {
                formBenevole.style.display = 'block';
                formAssociation.style.display = 'none';
                // Réinitialiser la prévisualisation pour bénévole
                resetPreview();
            });
        
            btnAssociation.addEventListener('click', function() {
                formBenevole.style.display = 'none';
                formAssociation.style.display = 'block';
                // Réinitialiser la prévisualisation pour association
                resetPreview();
            });
            
            // Fonction pour réinitialiser la prévisualisation
            function resetPreview() {
                previewPhoto.src = "../images/profils/default.jpg";
                previewNom.textContent = "";
                previewPrenom.textContent = "";
                previewEmail.textContent = "";
                previewLogin.textContent = "";
                previewTag.textContent = "";
                previewLocalisation.textContent = "";
                previewDescription.textContent = "";
                
                // Décocher toutes les cases à cocher
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                    cb.checked = false;
                });
            }
        
            // Fonction pour mettre à jour les tags sélectionnés
            function updateTags(formId) {
                const checkboxes = document.querySelectorAll(`#${formId} input[type="checkbox"]:checked`);
                // Si aucune case n'est cochée, pas de tag
                if (checkboxes.length === 0) {
                    previewTag.textContent = "";
                } else {
                    // Avec notre nouvelle logique, il ne devrait y avoir qu'un seul élément coché
                    previewTag.textContent = checkboxes[0].value;
                }
                
                // Mise à jour visuelle des checkboxes
                document.querySelectorAll(`#${formId} .tag-checkbox`).forEach(label => {
                    const checkbox = label.querySelector('input[type="checkbox"]');
                    if (checkbox.checked) {
                        label.classList.add('selected');
                    } else {
                        label.classList.remove('selected');
                    }
                });
            }
        
            // Fonction pour assurer qu'un seul tag soit sélectionné à la fois
            function setupSingleTagSelection(formId) {
                const checkboxes = document.querySelectorAll(`#${formId} input[type="checkbox"]`);
                
                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('click', function() {
                        // Désélectionner toutes les autres cases à cocher
                        checkboxes.forEach(cb => {
                            if (cb !== this) {
                                cb.checked = false;
                            }
                        });
                        
                        // Mettre à jour la prévisualisation
                        updateTags(formId);
                    });
                });
            }
        
            // Écouteurs d'événements pour le formulaire bénévole
            formBenevole.addEventListener('input', function(event) {
                const target = event.target;
                
                if (target.name === 'tagBenevole[]') {
                    updateTags('formBenevole');
                    return;
                }
                
                switch (target.id) {
                    case 'nomBenevole':
                        previewNom.textContent = target.value;
                        break;
                    case 'prenomBenevole':
                        previewPrenom.textContent = target.value;
                        break;
                    case 'mailBenevole':
                        previewEmail.textContent = target.value;
                        break;
                    case 'loginBenevole':
                        previewLogin.textContent = target.value;
                        break;
                    case 'localisationBenevole':
                        previewLocalisation.textContent = target.value;
                        break;
                    case 'descriptionBenevole':
                        previewDescription.textContent = target.value;
                        break;
                    case 'photoBenevole':
                        const file = target.files[0];
                        if (file) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                previewPhoto.src = e.target.result;
                            };
                            reader.readAsDataURL(file);
                        }
                        break;
                }
            });
        
            // Écouteurs d'événements pour le formulaire association
            formAssociation.addEventListener('input', function(event) {
                const target = event.target;
                
                if (target.name === 'tagAssociation[]') {
                    updateTags('formAssociation');
                    return;
                }
                
                switch (target.id) {
                    case 'nomAssociation':
                        previewNom.textContent = target.value;
                        break;
                    case 'mailAssociation':
                        previewEmail.textContent = target.value;
                        break;
                    case 'loginAssociation':
                        previewLogin.textContent = target.value;
                        break;
                    case 'localisationAssociation':
                        previewLocalisation.textContent = target.value;
                        break;
                    case 'descriptionAssociation':
                        previewDescription.textContent = target.value;
                        break;
                    case 'photoAssociation':
                        const file = target.files[0];
                        if (file) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                previewPhoto.src = e.target.result;
                            };
                            reader.readAsDataURL(file);
                        }
                        break;
                }
            });
        
            // Configurer la sélection unique de tag pour les deux formulaires
            setupSingleTagSelection('formBenevole');
            setupSingleTagSelection('formAssociation');
        });
        </script>

<!-- Footer -->
<footer class="footer">
    <div class="container footer-container">
        <div class="footer-column">
            <h3 class="footer-title">GiveTime</h3>
            <p>Une plateforme dédiée à la mise en relation des bénévoles et des associations pour créer un impact social positif.</p>
            <div class="social-links">
                <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </div>
        <div class="footer-column">
            <h3 class="footer-title">Liens utiles</h3>
            <ul class="footer-links">
                <li><a href="#" class="footer-link">À propos de nous</a></li>
                <li><a href="#" class="footer-link">Comment ça marche</a></li>
                <li><a href="#" class="footer-link">Témoignages</a></li>
                <li><a href="#" class="footer-link">FAQ</a></li>
            </ul>
        </div>
        <div class="footer-column">
            <h3 class="footer-title">Contact</h3>
            <p><i class="fas fa-envelope"></i> contact@givetime.org</p>
            <p><i class="fas fa-phone"></i> +33 1 23 45 67 89</p>
            <p><i class="fas fa-map-marker-alt"></i> 123 Rue de la Solidarité, 75000 Paris</p>
        </div>
    </div>
    <div class="footer-bottom container">
        <p>&copy; 2025 GiveTime. Tous droits réservés.</p>
    </div>
</footer>
</body>
</html>